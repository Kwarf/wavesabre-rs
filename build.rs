fn main() {
    cc::Build::new()
        .cpp(true)
        .include("WaveSabre/WaveSabreCore/include")
        .include("WaveSabre/WaveSabrePlayerLib/include")
        .file("WaveSabre/WaveSabreCore/src/Adultery.cpp")
        .file("WaveSabre/WaveSabreCore/src/AllPass.cpp")
        .file("WaveSabre/WaveSabreCore/src/AllPassDelay.cpp")
        .file("WaveSabre/WaveSabreCore/src/BiquadFilter.cpp")
        .file("WaveSabre/WaveSabreCore/src/Cathedral.cpp")
        .file("WaveSabre/WaveSabreCore/src/Chamber.cpp")
        .file("WaveSabre/WaveSabreCore/src/Comb.cpp")
        .file("WaveSabre/WaveSabreCore/src/Crusher.cpp")
        .file("WaveSabre/WaveSabreCore/src/DelayBuffer.cpp")
        .file("WaveSabre/WaveSabreCore/src/Device.cpp")
        .file("WaveSabre/WaveSabreCore/src/Echo.cpp")
        .file("WaveSabre/WaveSabreCore/src/Envelope.cpp")
        .file("WaveSabre/WaveSabreCore/src/Falcon.cpp")
        .file("WaveSabre/WaveSabreCore/src/GmDls.cpp")
        .file("WaveSabre/WaveSabreCore/src/GsmSample.cpp")
        .file("WaveSabre/WaveSabreCore/src/Helpers.cpp")
        .file("WaveSabre/WaveSabreCore/src/Leveller.cpp")
        .file("WaveSabre/WaveSabreCore/src/MxcsrFlagGuard.cpp")
        .file("WaveSabre/WaveSabreCore/src/ResampleBuffer.cpp")
        .file("WaveSabre/WaveSabreCore/src/SamplePlayer.cpp")
        .file("WaveSabre/WaveSabreCore/src/Scissor.cpp")
        .file("WaveSabre/WaveSabreCore/src/Slaughter.cpp")
        .file("WaveSabre/WaveSabreCore/src/Smasher.cpp")
        .file("WaveSabre/WaveSabreCore/src/Specimen.cpp")
        .file("WaveSabre/WaveSabreCore/src/StateVariableFilter.cpp")
        .file("WaveSabre/WaveSabreCore/src/SynthDevice.cpp")
        .file("WaveSabre/WaveSabreCore/src/Twister.cpp")
        .file("WaveSabre/WaveSabreCore/src/Deprecated/Thunder.cpp")
        .file("WaveSabre/WaveSabrePlayerLib/src/CriticalSection.cpp")
        .file("WaveSabre/WaveSabrePlayerLib/src/DirectSoundRenderThread.cpp")
        .file("WaveSabre/WaveSabrePlayerLib/src/IPlayer.cpp")
        .file("WaveSabre/WaveSabrePlayerLib/src/PreRenderPlayer.cpp")
        .file("WaveSabre/WaveSabrePlayerLib/src/SongRenderer.cpp")
        .file("WaveSabre/WaveSabrePlayerLib/src/SongRenderer.Track.cpp")
        .file("src/wrapper.cpp")
        .compile("libwavesabre-rs.a");

    println!("cargo:rustc-link-lib=Dsound");
    println!("cargo:rustc-link-lib=Msacm32");
    println!("cargo:rustc-link-lib=User32");
}
